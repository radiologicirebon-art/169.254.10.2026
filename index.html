<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aplikasi Radiologi</title>
<style>
.hidden{display:none;}
body{font-family:Arial, sans-serif; padding:20px;}
.menu button{margin:5px;}
.tool{border:1px solid #ddd; padding:20px; margin-top:10px;}
</style>
</head>
<body>

<!-- LOGIN BOX -->
<div id="loginBox">
  <h3>Login Aplikasi</h3>
  <input id="username" placeholder="Username"><br><br>
  <input id="password" placeholder="Password" type="password"><br><br>
  <button onclick="login()">Login</button>
</div>

<!-- DASHBOARD USER -->
<div id="userApp" class="hidden">
  <h2>Dashboard USER</h2>
  <div class="menu">
    <button onclick="openTool('tool1')">Tool 1</button>
    <button onclick="openTool('tool2')">Tool 2</button>
  </div>
  <div id="tool1" class="tool hidden">Halaman Tool User 1</div>
  <div id="tool2" class="tool hidden">Halaman Tool User 2</div>
  <button onclick="logout()">Logout</button>
</div>

<!-- DASHBOARD ADMIN -->
<div id="adminApp" class="hidden">
  <h2>Dashboard ADMIN</h2>
  <div class="menu">
    <button onclick="openTool('admtool1')">Admin Tool 1</button>
    <button onclick="openTool('admtool2')">Admin Tool 2</button>
  </div>
  <div id="admtool1" class="tool hidden">Halaman Admin Tool 1</div>
  <div id="admtool2" class="tool hidden">Halaman Admin Tool 2</div>
  <button onclick="logout()">Logout</button>
</div>


<script>
let role = "";

// ðŸ‘‰ LOGIN
function login(){
  const user = document.getElementById("username").value;
  const pass = document.getElementById("password").value;
  
  if(user === "admin" && pass === "admin"){ role = "ADMIN"; loginOk(); }
  else if(user === "user" && pass === "user"){ role = "USER"; loginOk(); }
  else{ return alert("âŒ Username / Password salah"); }
}

// ðŸ‘‰ LOGIN SUKSES
function loginOk(){
  document.getElementById("loginBox")?.classList.add("hidden");

  if(role === "USER") document.getElementById("userApp")?.classList.remove("hidden");
  if(role === "ADMIN") document.getElementById("adminApp")?.classList.remove("hidden");

  localStorage.setItem("loginStatus", role);
  popupLogin();
}

// ðŸ‘‰ NOTIFIKASI LOGIN
function popupLogin(){
  alert("âœ… Login berhasil! Selamat datang.");
}

// ðŸ‘‰ SIMPAN SESI (AUTO LOGIN)
window.onload = () => {
  const status = localStorage.getItem("loginStatus");
  if(status){
    document.getElementById("loginBox")?.classList.add("hidden");
    document.getElementById(status === "USER" ? "userApp" : "adminApp")?.classList.remove("hidden");
  }
};

// ðŸ‘‰ BUKA MENU (ANTI ERROR)
function openTool(target) {
  document.querySelectorAll('.tool').forEach(tool => {
    if(tool?.classList) tool.classList.add('hidden');
  });

  const selectedTool = document.getElementById(target);
  if(selectedTool?.classList) selectedTool.classList.remove('hidden');
  else console.warn("âš  ID menu tidak ditemukan:", target);
}

// ðŸ‘‰ LOGOUT
function logout(){
  localStorage.removeItem("loginStatus");
  location.reload();
}
</script>

</body>
</html>

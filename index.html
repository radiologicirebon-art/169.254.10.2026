<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Re-Expertise Radiologi</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
body{background:#f2f4f7;color:#333}
.hidden{display:none}
#loginWrapper{min-height:100vh;display:flex;align-items:center;justify-content:center}
#loginBox{max-width:420px;width:100%;background:#fff;padding:30px;border-radius:12px}
input,textarea,button{width:100%;padding:10px;margin:6px 0}
button{background:#1d899b;color:#fff;border:none;font-weight:bold}
header{background:#1d899b;color:#fff;padding:12px;display:flex;justify-content:space-between}
.dashboard{padding:20px;display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px}
.card{background:#fff;padding:15px;border-radius:10px}
table{width:100%;border-collapse:collapse;background:#fff}
th,td{border:1px solid #ddd;padding:6px;font-size:12px}
th{background:#1d899b;color:#fff}
.chat-box{height:250px;overflow:auto;background:#fff;padding:10px}
</style>
</head>

<body>

<div id="loginWrapper">
  <div id="loginBox">
    <h3>Login Re-Expertise</h3>
    <input id="username" placeholder="Username">
    <input id="password" type="password" placeholder="Password">
    <button id="btnLogin">LOGIN</button>
    <div id="loginMsg" style="color:red;text-align:center"></div>
  </div>
</div>

<div id="userApp" class="hidden">
<header>
  <span>User Radiologi</span>
  <button onclick="logout()">Logout</button>
</header>
<div class="dashboard">
  <div class="card">BARU<br><b id="uBaru">0</b></div>
  <div class="card">PROSES<br><b id="uProses">0</b></div>
  <div class="card">SELESAI<br><b id="uSelesai">0</b></div>
</div>
</div>

<div id="adminApp" class="hidden">
<header>
  <span>Admin Radiologi</span>
  <button onclick="logout()">Logout</button>
</header>
<div class="dashboard">
  <div class="card">BARU<br><b id="aBaru">0</b></div>
  <div class="card">PROSES<br><b id="aProses">0</b></div>
  <div class="card">SELESAI<br><b id="aSelesai">0</b></div>
</div>
</div>

<script>
const DB_URL="https://develop-re-expertise2026-default-rtdb.asia-southeast1.firebasedatabase.app";
let ROLE="";

function login(){
  const u=username.value;
  const p=password.value;
  loginMsg.innerText="";

  if(u==="Ranap" && p==="rsmp11"){
    ROLE="USER"; showApp(); return;
  }
  if(u==="201708073" && p==="Papamama00"){
    ROLE="ADMIN"; showApp(); return;
  }
  loginMsg.innerText="Username atau password salah";
}

function showApp(){
  loginWrapper.style.display="none";
  if(ROLE==="USER") userApp.classList.remove("hidden");
  if(ROLE==="ADMIN") adminApp.classList.remove("hidden");
}

function logout(){ location.reload(); }

btnLogin.onclick=login;
document.addEventListener("keydown",e=>{
  if(e.key==="Enter") login();
});
</script>

</body>
</html>
